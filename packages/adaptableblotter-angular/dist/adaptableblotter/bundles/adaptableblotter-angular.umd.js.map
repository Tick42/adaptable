{"version":3,"file":"adaptableblotter-angular.umd.js.map","sources":["ng://adaptableblotter-angular/lib/adaptableblotter.component.ts","ng://adaptableblotter-angular/lib/adaptableblotter-aggrid.component.ts","ng://adaptableblotter-angular/lib/adaptableblotter-hypergrid.component.ts","ng://adaptableblotter-angular/lib/adaptableblotter.module.ts"],"sourcesContent":["import { Component, OnInit, Input, ElementRef, Output, EventEmitter } from '@angular/core';\r\n\r\nimport * as ReactDOM from 'adaptableblotter/node_modules/react-dom';\r\nimport { BlotterFactory, AdaptableBlotterApp } from 'adaptableblotter/factory';\r\nimport { IAdaptableBlotter, IAdaptableBlotterOptions } from 'adaptableblotter/types';\r\n\r\n@Component({\r\n  selector: 'adaptable-blotter',\r\n  template: `<div [id]=\"adaptableBlotterOptions.adaptableBlotterContainer\">Loading...</div>`,\r\n  styles: []\r\n})\r\nexport class AdaptableBlotterComponent implements OnInit {\r\n  @Input() adaptableBlotterOptions: IAdaptableBlotterOptions;\r\n  @Input() vendorGridName: 'agGrid' | 'Hypergrid' | 'Kendo' | 'AdaptableGrid';\r\n\r\n  @Output() adaptableBlotterMounted = new EventEmitter<any>();\r\n\r\n  private adaptableBlotter: IAdaptableBlotter;\r\n\r\n  constructor(private elRef: ElementRef) {}\r\n\r\n  ngOnInit() {\r\n    this.adaptableBlotterOptions.adaptableBlotterContainer =\r\n      this.adaptableBlotterOptions.adaptableBlotterContainer || `adaptableBlotter-${Math.random() * 10000 | 0}`;\r\n    const waitForContainer = setInterval(() => {\r\n      try {\r\n        document.getElementById(this.adaptableBlotterOptions.adaptableBlotterContainer);\r\n        // Element is mounted\r\n        this.adaptableBlotter = BlotterFactory.CreateAdaptableBlotter(\r\n          this.adaptableBlotterOptions,\r\n          this.vendorGridName\r\n        );\r\n        this.adaptableBlotterMounted.emit(this.adaptableBlotter);\r\n        ReactDOM.render(\r\n          AdaptableBlotterApp({ AdaptableBlotter: this.adaptableBlotter }),\r\n          this.elRef.nativeElement.firstChild,\r\n        );\r\n        clearInterval(waitForContainer);\r\n      } catch (e) {\r\n      }\r\n    }, 100);\r\n  }\r\n\r\n}\r\n","import { Component, OnInit, Input } from '@angular/core';\r\nimport { IAdaptableBlotterOptions } from 'adaptableblotter/types';\r\nimport { GridOptions } from 'ag-grid';\r\nimport 'ag-grid-enterprise';\r\n\r\n@Component({\r\n  selector: 'adaptable-blotter-aggrid',\r\n  template: `<div id=\"adaptableBlotter-angular-aggrid\">\r\n    <div id=\"adaptableBlotter\">\r\n      <adaptable-blotter\r\n        [adaptableBlotterOptions]=\"adaptableBlotterOptions\"\r\n        vendorGridName=\"agGrid\">\r\n      </adaptable-blotter>\r\n    </div>\r\n    <div id=\"grid\">\r\n      <ag-grid-angular\r\n        [gridOptions]=\"gridOptions\"\r\n        [className]=\"agGridClass\"\r\n        [ngStyle]=\"agDivStyle\">\r\n      </ag-grid-angular>\r\n    </div>\r\n  </div>`,\r\n})\r\nexport class AdaptableblotterAgGridComponent implements OnInit {\r\n  @Input() adaptableBlotterOptions: IAdaptableBlotterOptions;\r\n  @Input() gridOptions: GridOptions;\r\n  @Input() agTheme?: 'balham' | 'balham-dark' | 'material' | 'fresh' | 'dark' | 'blue' | 'bootstrap' = 'balham';\r\n  @Input() agDivStyle?: any = { width: '100%', height: '90%', position: 'absolute', margin: '0px' };\r\n\r\n  agGridClass: string;\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n    this.agGridClass = `ag-theme-${this.agTheme}`;\r\n  }\r\n\r\n}\r\n","import { Component, OnInit, Input, ElementRef, SimpleChanges, OnChanges, Output, EventEmitter } from '@angular/core';\r\nimport { IAdaptableBlotterOptions } from 'adaptableblotter/types';\r\nimport Hypergrid from 'fin-hypergrid';\r\n\r\n\r\n@Component({\r\n  selector: 'adaptable-blotter-hypergrid',\r\n  template: `<div id=\"adaptableBlotter-angular-hypergrid\">\r\n  <div id=\"adaptableBlotter\">\r\n    <adaptable-blotter\r\n      [adaptableBlotterOptions]=\"adaptableBlotterOptions\"\r\n      vendorGridName=\"Hypergrid\"\r\n      (adaptableBlotterMounted)=\"onAdaptableBlotterMount($event)\"\r\n      *ngIf=\"gridLoaded\">\r\n    </adaptable-blotter>\r\n  </div>\r\n    <div id=\"hypergrid-container\"></div>\r\n  </div>`,\r\n})\r\nexport class AdaptableblotterHyperGridComponent implements OnInit, OnChanges {\r\n  private grid;\r\n  gridLoaded = false;\r\n\r\n  @Input() adaptableBlotterOptions: IAdaptableBlotterOptions;\r\n  @Input() gridOptions?: any = {};\r\n  @Input() data?: Array<any> = [];\r\n\r\n  /**\r\n   * Emits the mounted Hypergrid object for any specific settings.\r\n   */\r\n  @Output() gridMounted = new EventEmitter<any>();\r\n\r\n  constructor(private elRef: ElementRef) { }\r\n\r\n  ngOnInit() {\r\n    const container = this.elRef.nativeElement.firstChild.lastChild;\r\n    this.grid = new Hypergrid(container, this.gridOptions);\r\n    if (!this.gridOptions.data) {\r\n      this.grid.setData(this.data);\r\n    }\r\n    this.adaptableBlotterOptions.vendorGrid = this.grid;\r\n    this.gridLoaded = true;\r\n    this.gridMounted.emit(this.grid);\r\n    // TODO: Fix so it works properly - its a temporayr way to marry up the 2 components\r\n    this.gridOptions.setupgrid(this.adaptableBlotterOptions.vendorGrid);\r\n  }\r\n\r\n  /**\r\n   * Update the grid on input changes.\r\n   * Need our own update logic since hypergrid doesn't have an Angular wrapper.\r\n   */\r\n  ngOnChanges(changes: SimpleChanges) {\r\n    if (!this.grid) { return; }\r\n    const hgOptionsChange = changes.gridOptions;\r\n    const dataChange = changes.data;\r\n    if (dataChange && dataChange.previousValue !== dataChange.currentValue) {\r\n      this.grid.setData(changes.data.currentValue);\r\n    }\r\n    if (hgOptionsChange && !hgOptionsChange.isFirstChange() &&\r\n      (hgOptionsChange.previousValue !== hgOptionsChange.currentValue)) {\r\n      // Init the grid again, options changed\r\n      this.ngOnInit();\r\n    }\r\n  }\r\n\r\n  onAdaptableBlotterMount(adaptableBlotter) {\r\n   // ToDO\r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { AdaptableBlotterComponent } from './adaptableblotter.component';\r\nimport { AdaptableblotterAgGridComponent } from './adaptableblotter-aggrid.component';\r\nimport { AdaptableblotterHyperGridComponent } from './adaptableblotter-hypergrid.component';\r\nimport { AgGridModule } from 'ag-grid-angular';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    AgGridModule.withComponents([])\r\n  ],\r\n  declarations: [\r\n    AdaptableBlotterComponent,\r\n    AdaptableblotterAgGridComponent,\r\n    AdaptableblotterHyperGridComponent,\r\n  ],\r\n  exports: [\r\n    AdaptableBlotterComponent,\r\n    AdaptableblotterAgGridComponent,\r\n    AdaptableblotterHyperGridComponent,\r\n  ]\r\n})\r\nexport class AdaptableBlotterModule { }\r\n"],"names":["EventEmitter","BlotterFactory","ReactDOM.render","AdaptableBlotterApp","Component","ElementRef","Input","Output","NgModule","CommonModule","AgGridModule"],"mappings":"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"}
